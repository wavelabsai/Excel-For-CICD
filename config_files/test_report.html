<!DOCTYPE html>
<html>

<head runat="server">
	<title></title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>
<style>
table,
th,
td {
	border: 1px solid black;
}
</style>

<body>
	<script type="text/javascript">
	$(function() {
		var cell = $('td');
		cell.each(function() {
			var cell_value = $(this).html();
			if(cell_value == 'passed') $(this).css({
				'background': 'green'
			});
			if(cell_value == 'failed') $(this).css({
				'background': 'red'
			});
		});
	});
	</script>
	<form id="form1" runat="server">
		<h2>Wavelabs 5G SI test result report.</h2>
		<h3>Magma build : <%= packageVersion %></h3>
		<h3>Test Sut logs :</h3>
		<p><a href="https://raw.githubusercontent.com/wavelabsai/firebaseagentreport/master/syslog-<%= packageVersion %>" target="_blank">Sys Log</a></p>
		<p><a href="https://raw.githubusercontent.com/wavelabsai/firebaseagentreport/master/mme-<%= packageVersion %>.log" target="_blank">MME Log</a></p>
		<table style="width:100%">
			<tr>
				<th rowspan="2">Test Case Name</th>
				<th rowspan="2">Test Run Result</th>
				<th colspan="3">Scenario</th>
				<th colspan="4">Steps</th>
			</tr>
			<tr>
				<th>Failed</th>
				<th>Passed</th>
				<th>Total</th>
				<th>Failed</th>
				<th>Passed</th>
				<th>Skipped</th>
				<th>Total</th>
			</tr>
			<% for(r in jsonData.feature_summary.result.data) { %>
				<tr>
					<td>
						<%= r.featureName %>
					</td>
					<td>
						<%= r.features.status %>
					</td>
					<td>
						<%= r.scenario.failed %>
					</td>
					<td>
						<%= r.scenario.passed %>
					</td>
					<td>
						<%= r.scenario.total %>
					</td>
					<td>
						<%= r.steps.failed %>
					</td>
					<td>
						<%= r.steps.passed %>
					</td>
					<td>
						<%= r.steps.skipped %>
					</td>
					<td>
						<%= r.steps.total %>
					</td>
				</tr>
				<% } %>
		</table>
	</form>
</body>

</html>
